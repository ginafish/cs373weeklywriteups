<!DOCTYPE html>
<html>
    <head>
        <title>[CS373] Gina Phipps' Week 3 Writeup</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="../global.css" />
    </head>
    <body>
        <div>
            <h1>Week 3 Writeup</h1>
        </div>
        <div>
            <h2>Attack Vectors</h2>
            <p>
                January 20th - the day that the Happy 99 worm became the first large email worm.  Not the last of such an attack, as millions more would follow.  Today, attackers have expanded much more beyond email to reach their targets.  They might hack websites and put malicious content for unsuspecting users, buy ads that direct users to malicious content, or make their own malicious website and poison search results to get it to the top of search results.  USB drives might be dropped in parking lots for users to pick up.  Attackers might compromise networks and redirect users to malicious things.  As for what they want, it can be anything from to use the user's computer to use as part of a bot net to stealing the user's identity.  With the evolution of ransomware, attackers will hold users' files hostage in exchange for money, and destroy them if they aren't paid.
            </p>
            <p>
                As awful as bloatware is, it's not an exploit. Social engineering - convincing users to do things against better judgement - is getting more and more common.  Attackers can even find or steal application signatures and use them to sign their malware to make it appear legitimate.  If they install malware, they try very hard to make sure it sticks.  This involves trying to hide the exploit from the antivirus, trying to make it appear safe, and even trying to run command line scripts without creating files.  Malware goes from first contact to local execution, establishing presence, and then the malicious activity that it was looking to do.
            </p>
        </div>
        <div>
            <h2>Malware Defense</h2>
            <p>
                One of the more popular network topologies is a model with a network firewall (or some kind of network intrusion protection), an evaluation of message, network, and web reputation, and then the host firewall, host intrusion protection, access control, and then anti-malware.  
            </p>
            <h3>Yara</h3>
            <p>
                Yara is used for detecting malware.  You create rules like such:
            </p>
            <code>
                rule PotatoDetection {
                    strings:
                        $a = "potato.exe"
                        $b = http://potato.evil/potato4lief.potato
                    condition:
                        $a or $b
                }
            </code>
            <p>
                You can add additional keywords to strings, like nocase and fullword, that make rules more extensible.
            </p>
        </div>
        <div>
            <h2>Yara Lab</h2>
            <p>
                Command for running yara check: "Yara-2.1.0-win32\yara32.exe -p 10 -a 5 rule1.yara c:\windows\system32".  Rule for first lab:
            </p>
            <code>
                rule Learning {
                    strings:
                        $str1 = "OFTWARE\\Borland\\Delphi\\RTL"
                        $str2 = "Jenna Jam"
                        $str3 = "AikaQu"
                    condition:
                        all of them
                }
            </code>
            <p>
                With Yara rules, you want to try to create rules that don't target strings, as they can be far too long, but also avoid false positives.
            </p>
        </div>
    </body>
</html>